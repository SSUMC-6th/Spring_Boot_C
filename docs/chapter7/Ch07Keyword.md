# Chapter 6. JPA를 통한 엔티티 설계, 매핑 & 프로젝트 파일 구조 이해

# 1. 영속성 컨텍스트
> 영속성 컨텍스트(Persistence Context)는 JPA(Java Persistence API)에서 매우 중요한 개념으로, 애플리케이션과 데이터베이스 간의 데이터 상태를 관리하는 역할을 한다.

#### 엔티티 상태
- 비영속 상태(Transient): 영속성 컨텍스트와 전혀 관계없는 상태, 새로 생성된 객체는 영속성 컨텍스트에 추가되기 전까지 비영속 상태에 있다.
- 영속 상태(Persistent): 영속성 컨텍스트에 의해 관리되는 상태, 이 상태의 객체는 데이터베이스에 저장되며, 변경사항이 자동으로 반영된다.
- 준영속 상태(Detached): 영속성 컨텍스트에서 분리된 상태, 이 상태의 객체는 데이터베이스와의 동기화가 끊어진다.
- 삭제 상태(Removed): 삭제가 예약된 상태, 이 상태의 객체는 영속성 컨텍스트에서 삭제되며, 데이터베이스에서도 삭제된다.

# 2. 양방향 매핑
> 방향 매핑은 JPA에서 두 엔티티가 서로를 참조하는 관계를 의미한다. 이는 객체 지향적으로는 서로 연관된 두 객체가 있고, 관계형 데이터베이스 관점에서는 두 테이블이 외래 키를 통해 연결된 상황을 반영한다. 양방향 매핑은 특히 복잡한 도메인 모델을 다루는 데 유용하지만, 잘못 사용하면 성능 문제나 데이터 일관성 문제를 초래할 수 있다. 따라서 이를 이해하고 적절히 사용하는 것이 중요하다.

# 3. N+1 문제

> N+1 문제는 ORM(Object-Relational Mapping) 도구를 사용할 때 자주 발생하는 성능 문제 중 하나로, 주로 JPA와 Hibernate 같은 ORM 프레임워크에서 발생한다.